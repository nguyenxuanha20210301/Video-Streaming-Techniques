Ok, mÃ¬nh viáº¿t láº¡i **2.1 dáº¡ng ASCII**, ngáº¯n gá»n â€“ ká»¹ thuáº­t â€“ dá»… copy vÃ o Word/Markdown.

---

## 2.1. MÃ” HÃŒNH TÃN HIá»†U VIDEO Sá» (ASCII)

### 2.1.1. MÃ´ hÃ¬nh toÃ¡n há»c cá»§a tÃ­n hiá»‡u video

TÃ­n hiá»‡u video sá»‘ (má»™t kÃªnh) Ä‘Æ°á»£c mÃ´ hÃ¬nh hÃ³a lÃ  hÃ m rá»i ráº¡c 3 chiá»u:

```text
x[n1, n2, k]
n1 = 0..Nx-1    (chiá»u ngang - width)
n2 = 0..Ny-1    (chiá»u dá»c - height)
k  = 0..Nt-1    (chá»‰ sá»‘ frame theo thá»i gian)
```

* Má»—i giÃ¡ trá»‹ k tÆ°Æ¡ng á»©ng má»™t frame 2D kÃ­ch thÆ°á»›c Nx * Ny.
* ToÃ n bá»™ video lÃ  chuá»—i Nt frame ná»‘i tiáº¿p theo trá»¥c thá»i gian.

---

### 2.1.2. Láº¥y máº«u khÃ´ng gian vÃ  sá»‘ bit má»—i frame

Äá»™ phÃ¢n giáº£i khÃ´ng gian:

```text
Resolution = Nx * Ny   (pixel)
```

Giáº£ sá»­ má»—i pixel cÃ³ b_eff bit hiá»‡u dá»¥ng, sá»‘ bit cho má»™t frame thÃ´:

```text
B_frame = Nx * Ny * b_eff   (bit/frame)
```

Trong Ä‘Ã³:

* Nx, Ny : sá»‘ Ä‘iá»ƒm áº£nh theo hai chiá»u
* b_eff  : sá»‘ bit hiá»‡u dá»¥ng trÃªn má»—i pixel (tÃ¹y sÆ¡ Ä‘á»“ mÃ u + chroma subsampling)

---

### 2.1.3. Láº¥y máº«u thá»i gian vÃ  bitrate thÃ´

Video Ä‘Æ°á»£c láº¥y máº«u theo thá»i gian vá»›i frame rate:

```text
f_r = sá»‘ frame / giÃ¢y (fps)
```

Vá»›i má»™t Ä‘oáº¡n video dÃ i T giÃ¢y, sá»‘ frame:

```text
Nt = f_r * T
```

Bitrate video thÃ´ (chÆ°a nÃ©n):

```text
R_raw = B_frame * f_r
      = Nx * Ny * b_eff * f_r    (bit/s)
```

ÄÃ¢y lÃ  bitrate tham chiáº¿u náº¿u truyá»n video khÃ´ng nÃ©n.

---

### 2.1.4. MÃ´ hÃ¬nh mÃ u vÃ  chroma subsampling

Trong há»‡ thá»‘ng nÃ©n/truyá»n video, mÃ u thÆ°á»ng Ä‘Æ°á»£c biá»ƒu diá»…n trong khÃ´ng gian YCbCr:

* Y  : Ä‘á»™ sÃ¡ng (luma)
* Cb : thÃ nh pháº§n mÃ u xanh (chroma blue)
* Cr : thÃ nh pháº§n mÃ u Ä‘á» (chroma red)

Do máº¯t ngÆ°á»i nháº¡y vá»›i Y hÆ¡n Cb/Cr, hai kÃªnh Cb, Cr thÆ°á»ng Ä‘Æ°á»£c láº¥y máº«u thÆ°a hÆ¡n â†’ **chroma subsampling**.

CÃ¡c sÆ¡ Ä‘á»“ phá»• biáº¿n:

```text
4:4:4  -> khÃ´ng subsampling, 3 kÃªnh full resolution
4:2:2  -> kÃªnh mÃ u láº¥y máº«u ná»­a theo chiá»u ngang
4:2:0  -> kÃªnh mÃ u láº¥y máº«u thÆ°a cáº£ ngang vÃ  dá»c
```

Náº¿u má»—i máº«u cÃ³ b bit (vÃ­ dá»¥ b = 8):

* 4:4:4: xáº¥p xá»‰

  ```text
  b_eff â‰ˆ 3 * b   (bit/pixel)
  ```
* 4:2:0: xáº¥p xá»‰

  ```text
  b_eff â‰ˆ 1.5 * b (bit/pixel)
  ```

NhÆ° váº­y, chroma subsampling giÃºp **giáº£m b_eff**, tá»« Ä‘Ã³ giáº£m:

```text
R_raw = Nx * Ny * b_eff * f_r
```

cho cÃ¹ng Nx, Ny, f_r.

---

### 2.1.5. Ã nghÄ©a Ä‘á»‘i vá»›i há»‡ thá»‘ng video streaming

Tá»« cÃ¡c cÃ´ng thá»©c trÃªn:

```text
R_raw = Nx * Ny * b_eff * f_r
```

* R_raw thÆ°á»ng ráº¥t lá»›n â†’ khÃ´ng thá»ƒ truyá»n trá»±c tiáº¿p qua máº¡ng â†’ cáº§n nÃ©n máº¡nh (codec).
* CÃ¡c tham sá»‘ Nx, Ny, f_r, b_eff lÃ  input cÆ¡ báº£n cho:

  * Thiáº¿t káº¿ codec vÃ  rateâ€“distortion
  * TÃ­nh toÃ¡n bitrate má»¥c tiÃªu
  * Thuáº­t toÃ¡n adaptive bitrate (ABR) vÃ  láº­p káº¿ hoáº¡ch bÄƒng thÃ´ng trong há»‡ thá»‘ng streaming.

---

### Script thuyáº¿t trÃ¬nh 2.1 (báº£n rÃºt gá»n, khÃ´ng LaTeX)

Báº¡n cÃ³ thá»ƒ nÃ³i khoáº£ng 1â€“2 phÃºt nhÆ° sau:

> â€œTrong má»¥c 2.1, em mÃ´ hÃ¬nh hÃ³a tÃ­n hiá»‡u video á»Ÿ dáº¡ng rá»i ráº¡c Ä‘á»ƒ phá»¥c vá»¥ cÃ¡c pháº§n nÃ©n vÃ  streaming sau nÃ y.
>
> Em kÃ½ hiá»‡u video lÃ  x[n1, n2, k], trong Ä‘Ã³ n1, n2 cháº¡y tá»« 0 Ä‘áº¿n Nx-1, Ny-1 lÃ  tá»a Ä‘á»™ pixel trong má»™t frame, cÃ²n k tá»« 0 Ä‘áº¿n Nt-1 lÃ  chá»‰ sá»‘ frame theo thá»i gian. NhÆ° váº­y, má»—i frame lÃ  ma tráº­n Nx * Ny, cÃ²n video lÃ  chuá»—i Nt ma tráº­n 2D.
>
> Vá» dá»¯ liá»‡u, má»™t frame thÃ´ cÃ³ B_frame xáº¥p xá»‰ báº±ng Nx * Ny * b_eff bit, vá»›i b_eff lÃ  sá»‘ bit hiá»‡u dá»¥ng má»—i pixel. Náº¿u video cÃ³ frame rate f_r thÃ¬ bitrate thÃ´ lÃ  R_raw = Nx * Ny * b_eff * f_r bit trÃªn giÃ¢y. ÄÃ¢y lÃ  con sá»‘ ráº¥t lá»›n náº¿u khÃ´ng nÃ©n.
>
> Vá»›i video mÃ u, há»‡ thá»‘ng thÆ°á»ng dÃ¹ng khÃ´ng gian YCbCr vÃ  Ã¡p dá»¥ng chroma subsampling nhÆ° 4:2:0. Má»¥c Ä‘Ã­ch lÃ  giáº£m sá»‘ máº«u mÃ u, giáº£m b_eff vÃ  do Ä‘Ã³ giáº£m R_raw, trong khi cháº¥t lÆ°á»£ng thá»‹ giÃ¡c váº«n cháº¥p nháº­n Ä‘Æ°á»£c.
>
> TÃ³m láº¡i, má»¥c 2.1 Ä‘Æ°a ra mÃ´ hÃ¬nh x[n1, n2, k] vÃ  cÃ´ng thá»©c R_raw = Nx * Ny * b_eff * f_r, lÃ m ná»n cho viá»‡c phÃ¢n tÃ­ch rateâ€“distortion vÃ  thiáº¿t káº¿ cÃ¡c thuáº­t toÃ¡n adaptive bitrate trong bá»‘i cáº£nh video streaming.â€

---

Náº¿u báº¡n muá»‘n tiáº¿p tá»¥c theo kiá»ƒu nÃ y, nháº¯n:
**â€œTiáº¿p 2.2 dáº¡ng ASCIIâ€** ğŸ‘‰ mÃ¬nh sáº½ viáº¿t pháº§n *CÃ¡c chuáº©n mÃ£ hÃ³a video hiá»‡n Ä‘áº¡i* cÅ©ng ngáº¯n gá»n, ká»¹ thuáº­t + script nÃ³i.
